<!DOCTYPE html>
<html>
<head>
  <!-- http://bl.ocks.org/msqr/3202712 -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<title>Gauge</title>
	<script type="text/javascript" src="http://d3js.org/d3.v4.min.js"></script>
  <script type="text/javascript" src="gauge.js" ></script>
  <script type="text/javascript" src="masterList.js" ></script>


  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">

  <style>
	body {
		font-family:  Helvetica, Arial, sans-serif;
		margin: 32px;
	}

	#power-gauge g.arc {
		fill: steelblue;
	}

	#power-gauge g.pointer {
		fill: #000000;
		stroke: #b64011;
	}

	#power-gauge g.label text {
		text-anchor: middle;
		font-size: 14px;
		font-weight: bold;
		fill: #666;
	}
  .dashed {
    stroke-dasharray: 5,5;
  }
 .largeGraph {
    width: 500px;
    display: block;
    z-index: 0 !important
  }
  #master-list-graph {
    height: 400px;
  }
  #detail-graph {
    height: 500px;
  }
  .largeGraphBox {
    min-width: 500px;
    display: block;
    z-index: 0 !important
  }
  .row {
    width: 100%;
  }
  .countylogo {
    height:85px;
    margin-bottom: 20px;
  }
  .powergauges {
    width: 600px;
    min-width: 600px;
    margin-left: 20px;
  }
  .body {
    max-width: 1100px;
  }
  #restaurantScore, #restaurantGrade, .fieldValue {
    font-weight: bold;
  }
	</style>
</head>
<body onload="createMasterList()" >
<div class="body">
  <img class="countylogo" src="https://data.lacounty.gov/api/assets/9242DF6D-68B1-40DE-B114-4C0CF43FFC74?header.jpg"  />

  <!-- https://getbootstrap.com/docs/4.0/components/navbar/ -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#"></a>
    LOS ANGELES COUNTY RESTAURANTS AND MARKETS VIOLATIONS
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <!-- <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Dropdown
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#">Disabled</a>
        </li> -->
      </ul>
      <form class="form-inline my-2 my-lg-0" action="index.html" method="get">
        <input class="form-control mr-sm-2" type="search" name="record_id" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">View Record</button>
      </form>
    </div>
  </nav>

<div class="container-fluid">
  <div class="row">
    <div class="col-md-4 largeGraphBox">
      <div class="card" style="margin-top: 20px">
        <div class="card-header">
          <span class="fieldValue" id="restaurantName" ></span>
        </div>
        <div class="card-body">
          <span class="fieldName">Record Id: </span><span class="fieldValue" id="restaurantId" ></span><br />
          <span class="fieldName">Score: </span><span class="fieldValue" id="restaurantScore" ></span><br />
          <span class="fieldName">Grade: </span><span class="fieldValue" id="restaurantGrade" ></span><br />
          <span class="fieldName">Address: </span><span class="fieldValue" id="restaurantAddress" ></span><br />
          <span class="fieldName">Zip Code: </span><span class="fieldValue" id="restaurantCity" ></span><span class="fieldValue" id="restaurantZip" ></span><br />
          <span class="fieldName">Last Inspection: </span><span class="fieldValue" id="restaurantLastInsp" ></span><br />

        </div>
      </div>
    </p>
    </div>
    <div class="col-md-4 largeGraphBox" width="500px">
      <div class="card" style="margin-top: 20px; width:520px">
        <div class="card-header">
          Inspection Score History for <br /> <span class="fieldValue" id="restaurantName1" >
        </div>
        <div class="card-body">
        <svg id="detail-graph" class="img-responsive largeGraph" > </svg>
      </div>
    </div>

    </div>
  </div>
</div>
<div class="card" style="margin-top: 20px; max-width: 670px">
  <div class="card-header">
    Critical Risk Factors for <span class="fieldValue" id="restaurantName2" ></span>
  </div>
  <div class="card-body">
<div class="container powergauges">
  <div class="row">
    <div class="col-4">
        <a data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
          <div id="power-gauge-emp-health"></div>
          Employee health, hygiene and knowledge
        </a>
    </div>
    <div class="col-4">
      <div id="power-gauge-contamination"></div>
      Prevent contamination by hands
    </div>
    <div class="col-4">
      <div id="power-gauge-timeAndTemp"></div>
      Time and temperature relationship
    </div>
  </div>
  <div class="row">
    <div class="col-4">
      <div id="power-gauge-protect-contam"></div>
      Protection from contamination
    </div>
    <div class="col-4">
      <div id="power-gauge-food-source"></div>
      Food from approved sources
    </div>
    <div class="col-4">
      <div id="power-gauge-critical-risk"></div>
      Additional risk factors
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="collapse" id="collapseExample">
        <div class="card card-body">
          Not implemented:
          This box will list the violation details from the selected gauge.
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
</div>

<div class="card" style="margin-top: 80px; max-width: 540px">
  <div class="card-header">
    Restaurants with the lowest average score
  </div>
  <div class="card-body" >
    <svg id="master-list-graph" class="img-responsive largeGraph" > </svg>
  </div>
</div>





  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Popper JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
</body>
</html>
